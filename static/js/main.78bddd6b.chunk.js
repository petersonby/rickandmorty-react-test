(this["webpackJsonprickandmorty-react-test"]=this["webpackJsonprickandmorty-react-test"]||[]).push([[0],{45:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(20),s=n.n(a),i=(n(45),n(6)),u=n(17),o=n(13),j="FETCH_CHARACTERS",p="FETCH_SINGLE_CHARACTER",b="REQUEST_CHARACTERS",O="REQUEST_SINGLE_CHARACTER",d="PAGES_NUM",l="INCREMENT_NUM";function h(){return{type:b}}function x(e){return{type:d,payload:e}}var f=n(3);function v(e){var t=e.match,n=Object(o.b)(),c=Object(o.c)((function(e){return e.singleCharacter}))[0];return Object(r.useEffect)((function(){var e;n((e=t.params.id,{type:O,payload:e}))}),[]),c?Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)(u.b,{to:"/",children:"Back to List"})}),Object(f.jsx)("img",{src:c.image}),Object(f.jsx)("h1",{children:c.name}),Object(f.jsxs)("p",{children:["Status: ",c.status]}),Object(f.jsxs)("p",{children:["Species: ",c.species]}),Object(f.jsxs)("p",{children:["Gender: ",c.gender]}),Object(f.jsxs)("p",{children:["created ",c.created]}),Object(f.jsx)("div",{children:"Episodes List:"}),Object(f.jsx)("ul",{children:c.episode.map((function(e,t){return Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:e,children:e})},t)}))})]}):Object(f.jsx)("p",{children:"Not Found"})}var E,g=n(30),y=n(35),m=n(36).a.ul(E||(E=Object(y.a)(["\n  list-style: none;\n  width: 200px;\n  margin: 0 auto;\n\n  li + li {\n    margin-top: 30px;\n  }\n\n  a {\n    font-size: 18px;\n    text-align: center;\n    text-decoration: none;\n    color: #000;\n\n    border: 10px;\n    background-color: #eee;\n    padding: 20px 10px;\n    display: block;\n  }\n"])));function _(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.loading})),n=Object(o.c)((function(e){return e.characters})),c=Object(r.useState)(null),a=Object(g.a)(c,2),s=a[0],i=a[1],j=Object(r.useRef)(0),p=Object(r.useRef)(new IntersectionObserver((function(t){var n=Object(g.a)(t,1)[0].boundingClientRect.y;j.current>n&&e(h()),j.current=n}),{root:null,rootMargin:"0px",threshold:1}));return Object(r.useEffect)((function(){e(h())}),[]),Object(r.useEffect)((function(){var e=s,t=p.current;return e&&t.observe(e),function(){e&&t.unobserve(e)}}),[s]),n.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m,{children:n.map((function(e){return Object(f.jsx)("li",{children:Object(f.jsxs)(u.b,{to:"/character/".concat(e.id),children:[e.name," ",e.id]})},e.id)}))}),t&&Object(f.jsx)("p",{style:{textAlign:"center"},children:"Loading..."}),Object(f.jsx)("div",{ref:i,style:{height:"100px"}})]}):Object(f.jsx)("p",{children:"no posts"})}var w=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(i.a,{path:"/",exact:!0,component:_}),Object(f.jsx)(i.a,{path:"/character/:id",component:v})]})},R=n(22),k=n(40),S=n(31),C=n(14),N={characters:[],singleCharacter:[],page:1,loading:!1,pagesNum:null},A=n(29),T=n(12),L=n.n(T),D=n(8),H=L.a.mark(M),I=L.a.mark(X),U=L.a.mark(Q);function M(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.d)(b,X);case 2:return e.next=4,Object(D.e)(O,Q);case 4:case"end":return e.stop()}}),H)}var F=function(e){return e.page},G=function(e){return e.pagesNum};function X(){var e,t,n;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(D.c)(F);case 2:return e=r.sent,r.next=5,Object(D.c)(G);case 5:if(!((t=r.sent)&&t<e)){r.next=8;break}return r.abrupt("return",!0);case 8:return r.prev=8,r.next=11,Object(D.b)({type:"SHOW_LOADER"});case 11:return r.next=13,Object(D.a)((function(){return B(e)}));case 13:if(n=r.sent,t){r.next=17;break}return r.next=17,Object(D.b)(x(n.info.pages));case 17:return r.next=19,Object(D.b)((c=n.results,{type:j,payload:c}));case 19:return r.next=21,Object(D.b)({type:l});case 21:return r.next=23,Object(D.b)({type:"HIDE_LOADER"});case 23:r.next=29;break;case 25:return r.prev=25,r.t0=r.catch(8),r.next=29,Object(D.b)({type:"HIDE_LOADER"});case 29:case"end":return r.stop()}var c}),I,null,[[8,25]])}function B(e){return J.apply(this,arguments)}function J(){return(J=Object(A.a)(L.a.mark((function e(t){var n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://rickandmortyapi.com/api/character/?page=".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){var t,n;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,Object(D.a)((function(){return V(t)}));case 4:return n=r.sent,r.next=7,Object(D.b)({type:p,payload:n});case 7:r.next=11;break;case 9:r.prev=9,r.t0=r.catch(1);case 11:case"end":return r.stop()}}),U,null,[[1,9]])}function V(e){return z.apply(this,arguments)}function z(){return(z=Object(A.a)(L.a.mark((function e(t){var n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://rickandmortyapi.com/api/character/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=Object(k.a)(),W=Object(R.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(C.a)(Object(C.a)({},e),{},{characters:[].concat(Object(S.a)(e.characters),Object(S.a)(t.payload))});case p:return Object(C.a)(Object(C.a)({},e),{},{singleCharacter:[t.payload]});case d:return Object(C.a)(Object(C.a)({},e),{},{pagesNum:t.payload});case l:return Object(C.a)(Object(C.a)({},e),{},{page:e.page+1});default:return e}}),Object(R.c)(Object(R.a)(P),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));P.run(M),s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(u.a,{children:Object(f.jsx)(o.a,{store:W,children:Object(f.jsx)(w,{})})})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.78bddd6b.chunk.js.map